!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):e.lebra=t(e.React,e.PropTypes)}(this,function(e,t){"use strict";function n(e){var t=e.type,n=e.className,r=p(e,["type","className"]);return a.createElement("i",i({className:"iconfont icon-"+t+" "+n},r))}function r(e){return e.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}var a="default"in e?e.default:e;t="default"in t?t.default:t;var o=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){!function(){function t(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a))e.push(t.apply(null,a));else if("object"===o)for(var l in a)n.call(a,l)&&a[l]&&e.push(l)}}return e.join(" ")}var n={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=t:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}()}),l=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,a){var u={key:e,arg:t,resolve:n,reject:a,next:null};l?l=l.next=u:(o=l=u,r(e,t))})}function r(n,o){try{var l=t[n](o),u=l.value;u instanceof e?Promise.resolve(u.value).then(function(e){r("next",e)},function(e){r("throw",e)}):a(l.done?"return":"normal",l.value)}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}o=o.next,o?r(o.key,o.arg):l=null}var o,l;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},f=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},b={type:t.string,className:t.string,style:t.object},y={className:"",type:""};n.propTypes=b,n.defaultProps=y;var h={className:t.string,labelStyle:t.object,style:t.object,inputStyle:t.object,componentClass:t.oneOfType([t.element,t.string,t.node]),pattern:t.oneOf(["inline","vertical","textarea"]),border:t.oneOf(["double","bottom","bordered"]),onChange:t.func,clear:t.bool},d={labelStyle:{},style:{},inputStyle:{},type:"text",componentClass:"input",pattern:"inline",border:"double",editable:!0,clear:!0},v=function(e){function t(e,n){l(this,t);var a=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.formatValue=function(e){var t=e.length;switch(a.props.type){case"text":break;case"bankCard":e=e.replace(/\D/g,"").replace(/(....)(?=.)/g,"$1 ");break;case"phone":e=e.replace(/\D/g,"").substring(0,11),t>3&&t<8?e=e.substr(0,3)+" "+e.substr(3):t>=8&&(e=e.substr(0,3)+" "+e.substr(3,4)+" "+e.substr(7));break;case"number":e=e.replace(/\D/g,"");break;case"password":break;case"money":e=e.replace(/\D/g,""),e=r(e)}return e},a.handleChange=function(e){var t=a.props,n=t.onChange,r=t.editable,o=e.target.value;r&&(o=a.formatValue(o),a.setState({value:o}),n&&n(o,e))},a.handleClear=function(){a.setState({value:""}),a.focus()},a.focus=function(){a.inputRef.focus()},a.state={value:""},a.inputRef={},a}return c(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.props.defaultValue;e&&this.setState({value:this.formatValue(e)})}},{key:"render",value:function(){var e,t=this,r=this.props,l=r.style,u=r.className,c=r.children,f=r.labelStyle,b=r.labelClass,y=r.InputClass,h=r.inputStyle,d=r.type,v=r.componentClass,m=r.required,g=r.pattern,w=r.border,x=(r.editable,r.defaultValue,r.clear),j=p(r,["style","className","children","labelStyle","labelClass","InputClass","inputStyle","type","componentClass","required","pattern","border","editable","defaultValue","clear"]),O=o((e={"lebra-input":!0},s(e,"lebra-input-"+g,!0),s(e,"lebra-input-"+w,!0),e),u),k=o({"lebra-input-item":!0},y),C=o({"lebra-input-label":!0},b);return"textarea"===g&&(v=g,j.hasOwnProperty("maxLength")||(j.maxLength="140")),a.createElement("div",{className:O,style:l||null},c?a.createElement("label",{className:C,style:f},c):null,a.createElement(v,i({type:d,style:h,className:k,value:this.state.value,onChange:this.handleChange,required:m||null},j,{ref:function(e){return t.inputRef=e}})),"textarea"!==g&&x&&""!==this.state.value?a.createElement(n,{className:"lebra-input-clear",type:"backspace",onClick:this.handleClear}):null,"textarea"===g?a.createElement("div",{className:"lebra-input-font-length"},this.state.value.length,"/",a.createElement("span",{className:"total-length"},"140")):null)}}]),t}(e.Component);return v.propTypes=h,v.defaultProps=d,{Input:v}});